{"ast":null,"code":"var fs = require('fs');\n\nvar path = require('path');\n\nvar mkdir = require('../mkdirs');\n\nvar remove = require('../remove');\n\nfunction emptyDir(dir, callback) {\n  fs.readdir(dir, function (err, items) {\n    if (err) return mkdir.mkdirs(dir, callback);\n    items = items.map(function (item) {\n      return path.join(dir, item);\n    });\n    deleteItem();\n\n    function deleteItem() {\n      var item = items.pop();\n      if (!item) return callback();\n      remove.remove(item, function (err) {\n        if (err) return callback(err);\n        deleteItem();\n      });\n    }\n  });\n}\n\nfunction emptyDirSync(dir) {\n  var items;\n\n  try {\n    items = fs.readdirSync(dir);\n  } catch (err) {\n    return mkdir.mkdirsSync(dir);\n  }\n\n  items.forEach(function (item) {\n    item = path.join(dir, item);\n    remove.removeSync(item);\n  });\n}\n\nmodule.exports = {\n  emptyDirSync: emptyDirSync,\n  emptydirSync: emptyDirSync,\n  emptyDir: emptyDir,\n  emptydir: emptyDir\n};","map":{"version":3,"sources":["/Users/Erik.Kroha1/Jobs/Verizon/Talk Home/sivr-caller-display/node_modules/firebase-tools/node_modules/fs-extra/lib/empty/index.js"],"names":["fs","require","path","mkdir","remove","emptyDir","dir","callback","readdir","err","items","mkdirs","map","item","join","deleteItem","pop","emptyDirSync","readdirSync","mkdirsSync","forEach","removeSync","module","exports","emptydirSync","emptydir"],"mappings":"AAAA,IAAIA,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAhB;;AACA,IAAIC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAAlB;;AACA,IAAIE,KAAK,GAAGF,OAAO,CAAC,WAAD,CAAnB;;AACA,IAAIG,MAAM,GAAGH,OAAO,CAAC,WAAD,CAApB;;AAEA,SAASI,QAAT,CAAmBC,GAAnB,EAAwBC,QAAxB,EAAkC;AAChCP,EAAAA,EAAE,CAACQ,OAAH,CAAWF,GAAX,EAAgB,UAAUG,GAAV,EAAeC,KAAf,EAAsB;AACpC,QAAID,GAAJ,EAAS,OAAON,KAAK,CAACQ,MAAN,CAAaL,GAAb,EAAkBC,QAAlB,CAAP;AAETG,IAAAA,KAAK,GAAGA,KAAK,CAACE,GAAN,CAAU,UAAUC,IAAV,EAAgB;AAChC,aAAOX,IAAI,CAACY,IAAL,CAAUR,GAAV,EAAeO,IAAf,CAAP;AACD,KAFO,CAAR;AAIAE,IAAAA,UAAU;;AAEV,aAASA,UAAT,GAAuB;AACrB,UAAIF,IAAI,GAAGH,KAAK,CAACM,GAAN,EAAX;AACA,UAAI,CAACH,IAAL,EAAW,OAAON,QAAQ,EAAf;AACXH,MAAAA,MAAM,CAACA,MAAP,CAAcS,IAAd,EAAoB,UAAUJ,GAAV,EAAe;AACjC,YAAIA,GAAJ,EAAS,OAAOF,QAAQ,CAACE,GAAD,CAAf;AACTM,QAAAA,UAAU;AACX,OAHD;AAID;AACF,GAjBD;AAkBD;;AAED,SAASE,YAAT,CAAuBX,GAAvB,EAA4B;AAC1B,MAAII,KAAJ;;AACA,MAAI;AACFA,IAAAA,KAAK,GAAGV,EAAE,CAACkB,WAAH,CAAeZ,GAAf,CAAR;AACD,GAFD,CAEE,OAAOG,GAAP,EAAY;AACZ,WAAON,KAAK,CAACgB,UAAN,CAAiBb,GAAjB,CAAP;AACD;;AAEDI,EAAAA,KAAK,CAACU,OAAN,CAAc,UAAUP,IAAV,EAAgB;AAC5BA,IAAAA,IAAI,GAAGX,IAAI,CAACY,IAAL,CAAUR,GAAV,EAAeO,IAAf,CAAP;AACAT,IAAAA,MAAM,CAACiB,UAAP,CAAkBR,IAAlB;AACD,GAHD;AAID;;AAEDS,MAAM,CAACC,OAAP,GAAiB;AACfN,EAAAA,YAAY,EAAEA,YADC;AAEfO,EAAAA,YAAY,EAAEP,YAFC;AAGfZ,EAAAA,QAAQ,EAAEA,QAHK;AAIfoB,EAAAA,QAAQ,EAAEpB;AAJK,CAAjB","sourcesContent":["var fs = require('fs')\nvar path = require('path')\nvar mkdir = require('../mkdirs')\nvar remove = require('../remove')\n\nfunction emptyDir (dir, callback) {\n  fs.readdir(dir, function (err, items) {\n    if (err) return mkdir.mkdirs(dir, callback)\n\n    items = items.map(function (item) {\n      return path.join(dir, item)\n    })\n\n    deleteItem()\n\n    function deleteItem () {\n      var item = items.pop()\n      if (!item) return callback()\n      remove.remove(item, function (err) {\n        if (err) return callback(err)\n        deleteItem()\n      })\n    }\n  })\n}\n\nfunction emptyDirSync (dir) {\n  var items\n  try {\n    items = fs.readdirSync(dir)\n  } catch (err) {\n    return mkdir.mkdirsSync(dir)\n  }\n\n  items.forEach(function (item) {\n    item = path.join(dir, item)\n    remove.removeSync(item)\n  })\n}\n\nmodule.exports = {\n  emptyDirSync: emptyDirSync,\n  emptydirSync: emptyDirSync,\n  emptyDir: emptyDir,\n  emptydir: emptyDir\n}\n"]},"metadata":{},"sourceType":"script"}