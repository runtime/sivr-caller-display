{"ast":null,"code":"\"use strict\";\n\nvar api = require(\"./api\");\n\nvar _require = require(\"./error\"),\n    FirebaseError = _require.FirebaseError;\n\nvar utils = require(\"./utils\");\n\nexports.updateRules = function (instance, src, options) {\n  options = options || {};\n  var url = \"/.settings/rules.json\";\n\n  if (options.dryRun) {\n    url += \"?dryRun=true\";\n  }\n\n  return api.request(\"PUT\", url, {\n    origin: utils.addSubdomain(api.realtimeOrigin, instance),\n    auth: true,\n    data: src,\n    json: false,\n    resolveOnHTTPError: true\n  }).then(function (response) {\n    if (response.status === 400) {\n      throw new FirebaseError(\"Syntax error in database rules:\\n\\n\" + JSON.parse(response.body).error);\n    } else if (response.status > 400) {\n      throw new FirebaseError(\"Unexpected error while deploying database rules.\", {\n        exit: 2\n      });\n    }\n  });\n};","map":{"version":3,"sources":["/Users/Erik.Kroha1/Jobs/Verizon/Talk Home/sivr-caller-display/node_modules/firebase-tools/lib/rtdb.js"],"names":["api","require","FirebaseError","utils","exports","updateRules","instance","src","options","url","dryRun","request","origin","addSubdomain","realtimeOrigin","auth","data","json","resolveOnHTTPError","then","response","status","JSON","parse","body","error","exit"],"mappings":"AAAA;;AACA,IAAIA,GAAG,GAAGC,OAAO,CAAC,OAAD,CAAjB;;eACwBA,OAAO,CAAC,SAAD,C;IAAzBC,a,YAAAA,a;;AACN,IAAIC,KAAK,GAAGF,OAAO,CAAC,SAAD,CAAnB;;AACAG,OAAO,CAACC,WAAR,GAAsB,UAAUC,QAAV,EAAoBC,GAApB,EAAyBC,OAAzB,EAAkC;AACpDA,EAAAA,OAAO,GAAGA,OAAO,IAAI,EAArB;AACA,MAAIC,GAAG,GAAG,uBAAV;;AACA,MAAID,OAAO,CAACE,MAAZ,EAAoB;AAChBD,IAAAA,GAAG,IAAI,cAAP;AACH;;AACD,SAAOT,GAAG,CACLW,OADE,CACM,KADN,EACaF,GADb,EACkB;AACrBG,IAAAA,MAAM,EAAET,KAAK,CAACU,YAAN,CAAmBb,GAAG,CAACc,cAAvB,EAAuCR,QAAvC,CADa;AAErBS,IAAAA,IAAI,EAAE,IAFe;AAGrBC,IAAAA,IAAI,EAAET,GAHe;AAIrBU,IAAAA,IAAI,EAAE,KAJe;AAKrBC,IAAAA,kBAAkB,EAAE;AALC,GADlB,EAQFC,IARE,CAQG,UAAUC,QAAV,EAAoB;AAC1B,QAAIA,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AACzB,YAAM,IAAInB,aAAJ,CAAkB,wCAAwCoB,IAAI,CAACC,KAAL,CAAWH,QAAQ,CAACI,IAApB,EAA0BC,KAApF,CAAN;AACH,KAFD,MAGK,IAAIL,QAAQ,CAACC,MAAT,GAAkB,GAAtB,EAA2B;AAC5B,YAAM,IAAInB,aAAJ,CAAkB,kDAAlB,EAAsE;AAAEwB,QAAAA,IAAI,EAAE;AAAR,OAAtE,CAAN;AACH;AACJ,GAfM,CAAP;AAgBH,CAtBD","sourcesContent":["\"use strict\";\nvar api = require(\"./api\");\nvar { FirebaseError } = require(\"./error\");\nvar utils = require(\"./utils\");\nexports.updateRules = function (instance, src, options) {\n    options = options || {};\n    var url = \"/.settings/rules.json\";\n    if (options.dryRun) {\n        url += \"?dryRun=true\";\n    }\n    return api\n        .request(\"PUT\", url, {\n        origin: utils.addSubdomain(api.realtimeOrigin, instance),\n        auth: true,\n        data: src,\n        json: false,\n        resolveOnHTTPError: true,\n    })\n        .then(function (response) {\n        if (response.status === 400) {\n            throw new FirebaseError(\"Syntax error in database rules:\\n\\n\" + JSON.parse(response.body).error);\n        }\n        else if (response.status > 400) {\n            throw new FirebaseError(\"Unexpected error while deploying database rules.\", { exit: 2 });\n        }\n    });\n};\n"]},"metadata":{},"sourceType":"script"}