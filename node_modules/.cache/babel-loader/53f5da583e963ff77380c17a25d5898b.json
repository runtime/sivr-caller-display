{"ast":null,"code":"\"use strict\";\n\nconst _ = require(\"lodash\");\n\nmodule.exports = function (config) {\n  const out = {};\n\n  if (!config) {\n    return out;\n  }\n\n  if (_.isArray(config.rewrites)) {\n    out.rewrites = config.rewrites.map(function (rewrite) {\n      const vRewrite = {\n        glob: rewrite.source\n      };\n\n      if (rewrite.destination) {\n        vRewrite.path = rewrite.destination;\n      } else if (rewrite.function) {\n        vRewrite.function = rewrite.function;\n      } else if (rewrite.dynamicLinks) {\n        vRewrite.dynamicLinks = rewrite.dynamicLinks;\n      } else if (rewrite.run) {\n        vRewrite.run = Object.assign({\n          region: \"us-central1\"\n        }, rewrite.run);\n      }\n\n      return vRewrite;\n    });\n  }\n\n  if (_.isArray(config.redirects)) {\n    out.redirects = config.redirects.map(function (redirect) {\n      const vRedirect = {\n        glob: redirect.source,\n        location: redirect.destination\n      };\n\n      if (redirect.type) {\n        vRedirect.statusCode = redirect.type;\n      }\n\n      return vRedirect;\n    });\n  }\n\n  if (_.isArray(config.headers)) {\n    out.headers = config.headers.map(function (header) {\n      const vHeader = {\n        glob: header.source\n      };\n      vHeader.headers = {};\n      (header.headers || []).forEach(function (h) {\n        vHeader.headers[h.key] = h.value;\n      });\n      return vHeader;\n    });\n  }\n\n  if (_.has(config, \"cleanUrls\")) {\n    out.cleanUrls = config.cleanUrls;\n  }\n\n  if (config.trailingSlash === true) {\n    out.trailingSlashBehavior = \"ADD\";\n  } else if (config.trailingSlash === false) {\n    out.trailingSlashBehavior = \"REMOVE\";\n  }\n\n  if (_.has(config, \"appAssociation\")) {\n    out.appAssociation = config.appAssociation;\n  }\n\n  return out;\n};","map":{"version":3,"sources":["/Users/Erik.Kroha1/Jobs/Verizon/Talk Home/sivr-caller-display/node_modules/firebase-tools/lib/deploy/hosting/convertConfig.js"],"names":["_","require","module","exports","config","out","isArray","rewrites","map","rewrite","vRewrite","glob","source","destination","path","function","dynamicLinks","run","Object","assign","region","redirects","redirect","vRedirect","location","type","statusCode","headers","header","vHeader","forEach","h","key","value","has","cleanUrls","trailingSlash","trailingSlashBehavior","appAssociation"],"mappings":"AAAA;;AACA,MAAMA,CAAC,GAAGC,OAAO,CAAC,QAAD,CAAjB;;AACAC,MAAM,CAACC,OAAP,GAAiB,UAAUC,MAAV,EAAkB;AAC/B,QAAMC,GAAG,GAAG,EAAZ;;AACA,MAAI,CAACD,MAAL,EAAa;AACT,WAAOC,GAAP;AACH;;AACD,MAAIL,CAAC,CAACM,OAAF,CAAUF,MAAM,CAACG,QAAjB,CAAJ,EAAgC;AAC5BF,IAAAA,GAAG,CAACE,QAAJ,GAAeH,MAAM,CAACG,QAAP,CAAgBC,GAAhB,CAAoB,UAAUC,OAAV,EAAmB;AAClD,YAAMC,QAAQ,GAAG;AAAEC,QAAAA,IAAI,EAAEF,OAAO,CAACG;AAAhB,OAAjB;;AACA,UAAIH,OAAO,CAACI,WAAZ,EAAyB;AACrBH,QAAAA,QAAQ,CAACI,IAAT,GAAgBL,OAAO,CAACI,WAAxB;AACH,OAFD,MAGK,IAAIJ,OAAO,CAACM,QAAZ,EAAsB;AACvBL,QAAAA,QAAQ,CAACK,QAAT,GAAoBN,OAAO,CAACM,QAA5B;AACH,OAFI,MAGA,IAAIN,OAAO,CAACO,YAAZ,EAA0B;AAC3BN,QAAAA,QAAQ,CAACM,YAAT,GAAwBP,OAAO,CAACO,YAAhC;AACH,OAFI,MAGA,IAAIP,OAAO,CAACQ,GAAZ,EAAiB;AAClBP,QAAAA,QAAQ,CAACO,GAAT,GAAeC,MAAM,CAACC,MAAP,CAAc;AAAEC,UAAAA,MAAM,EAAE;AAAV,SAAd,EAAyCX,OAAO,CAACQ,GAAjD,CAAf;AACH;;AACD,aAAOP,QAAP;AACH,KAfc,CAAf;AAgBH;;AACD,MAAIV,CAAC,CAACM,OAAF,CAAUF,MAAM,CAACiB,SAAjB,CAAJ,EAAiC;AAC7BhB,IAAAA,GAAG,CAACgB,SAAJ,GAAgBjB,MAAM,CAACiB,SAAP,CAAiBb,GAAjB,CAAqB,UAAUc,QAAV,EAAoB;AACrD,YAAMC,SAAS,GAAG;AAAEZ,QAAAA,IAAI,EAAEW,QAAQ,CAACV,MAAjB;AAAyBY,QAAAA,QAAQ,EAAEF,QAAQ,CAACT;AAA5C,OAAlB;;AACA,UAAIS,QAAQ,CAACG,IAAb,EAAmB;AACfF,QAAAA,SAAS,CAACG,UAAV,GAAuBJ,QAAQ,CAACG,IAAhC;AACH;;AACD,aAAOF,SAAP;AACH,KANe,CAAhB;AAOH;;AACD,MAAIvB,CAAC,CAACM,OAAF,CAAUF,MAAM,CAACuB,OAAjB,CAAJ,EAA+B;AAC3BtB,IAAAA,GAAG,CAACsB,OAAJ,GAAcvB,MAAM,CAACuB,OAAP,CAAenB,GAAf,CAAmB,UAAUoB,MAAV,EAAkB;AAC/C,YAAMC,OAAO,GAAG;AAAElB,QAAAA,IAAI,EAAEiB,MAAM,CAAChB;AAAf,OAAhB;AACAiB,MAAAA,OAAO,CAACF,OAAR,GAAkB,EAAlB;AACA,OAACC,MAAM,CAACD,OAAP,IAAkB,EAAnB,EAAuBG,OAAvB,CAA+B,UAAUC,CAAV,EAAa;AACxCF,QAAAA,OAAO,CAACF,OAAR,CAAgBI,CAAC,CAACC,GAAlB,IAAyBD,CAAC,CAACE,KAA3B;AACH,OAFD;AAGA,aAAOJ,OAAP;AACH,KAPa,CAAd;AAQH;;AACD,MAAI7B,CAAC,CAACkC,GAAF,CAAM9B,MAAN,EAAc,WAAd,CAAJ,EAAgC;AAC5BC,IAAAA,GAAG,CAAC8B,SAAJ,GAAgB/B,MAAM,CAAC+B,SAAvB;AACH;;AACD,MAAI/B,MAAM,CAACgC,aAAP,KAAyB,IAA7B,EAAmC;AAC/B/B,IAAAA,GAAG,CAACgC,qBAAJ,GAA4B,KAA5B;AACH,GAFD,MAGK,IAAIjC,MAAM,CAACgC,aAAP,KAAyB,KAA7B,EAAoC;AACrC/B,IAAAA,GAAG,CAACgC,qBAAJ,GAA4B,QAA5B;AACH;;AACD,MAAIrC,CAAC,CAACkC,GAAF,CAAM9B,MAAN,EAAc,gBAAd,CAAJ,EAAqC;AACjCC,IAAAA,GAAG,CAACiC,cAAJ,GAAqBlC,MAAM,CAACkC,cAA5B;AACH;;AACD,SAAOjC,GAAP;AACH,CAvDD","sourcesContent":["\"use strict\";\nconst _ = require(\"lodash\");\nmodule.exports = function (config) {\n    const out = {};\n    if (!config) {\n        return out;\n    }\n    if (_.isArray(config.rewrites)) {\n        out.rewrites = config.rewrites.map(function (rewrite) {\n            const vRewrite = { glob: rewrite.source };\n            if (rewrite.destination) {\n                vRewrite.path = rewrite.destination;\n            }\n            else if (rewrite.function) {\n                vRewrite.function = rewrite.function;\n            }\n            else if (rewrite.dynamicLinks) {\n                vRewrite.dynamicLinks = rewrite.dynamicLinks;\n            }\n            else if (rewrite.run) {\n                vRewrite.run = Object.assign({ region: \"us-central1\" }, rewrite.run);\n            }\n            return vRewrite;\n        });\n    }\n    if (_.isArray(config.redirects)) {\n        out.redirects = config.redirects.map(function (redirect) {\n            const vRedirect = { glob: redirect.source, location: redirect.destination };\n            if (redirect.type) {\n                vRedirect.statusCode = redirect.type;\n            }\n            return vRedirect;\n        });\n    }\n    if (_.isArray(config.headers)) {\n        out.headers = config.headers.map(function (header) {\n            const vHeader = { glob: header.source };\n            vHeader.headers = {};\n            (header.headers || []).forEach(function (h) {\n                vHeader.headers[h.key] = h.value;\n            });\n            return vHeader;\n        });\n    }\n    if (_.has(config, \"cleanUrls\")) {\n        out.cleanUrls = config.cleanUrls;\n    }\n    if (config.trailingSlash === true) {\n        out.trailingSlashBehavior = \"ADD\";\n    }\n    else if (config.trailingSlash === false) {\n        out.trailingSlashBehavior = \"REMOVE\";\n    }\n    if (_.has(config, \"appAssociation\")) {\n        out.appAssociation = config.appAssociation;\n    }\n    return out;\n};\n"]},"metadata":{},"sourceType":"script"}