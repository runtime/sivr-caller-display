{"ast":null,"code":"\"use strict\";\n\nconst _ = require(\"lodash\");\n\nfunction _filterOnly(configs, onlyString) {\n  if (!onlyString) {\n    return configs;\n  }\n\n  var onlyTargets = onlyString.split(\",\");\n\n  if (_.includes(onlyTargets, \"hosting\")) {\n    return configs;\n  }\n\n  onlyTargets = onlyTargets.filter(function (anOnly) {\n    return anOnly.indexOf(\"hosting:\") === 0;\n  }).map(function (anOnly) {\n    return anOnly.replace(\"hosting:\", \"\");\n  });\n  return configs.filter(function (config) {\n    return _.includes(onlyTargets, config.target || config.site);\n  });\n}\n\nmodule.exports = function (options) {\n  let configs = options.config.get(\"hosting\");\n\n  if (!configs) {\n    return [];\n  } else if (!_.isArray(configs)) {\n    if (!configs.target && !configs.site) {\n      configs.site = options.instance;\n    }\n\n    configs = [configs];\n  }\n\n  return _filterOnly(configs, options.only);\n};","map":{"version":3,"sources":["/Users/Erik.Kroha1/Jobs/Verizon/Talk Home/sivr-caller-display/node_modules/firebase-tools/lib/hosting/normalizedHostingConfigs.js"],"names":["_","require","_filterOnly","configs","onlyString","onlyTargets","split","includes","filter","anOnly","indexOf","map","replace","config","target","site","module","exports","options","get","isArray","instance","only"],"mappings":"AAAA;;AACA,MAAMA,CAAC,GAAGC,OAAO,CAAC,QAAD,CAAjB;;AACA,SAASC,WAAT,CAAqBC,OAArB,EAA8BC,UAA9B,EAA0C;AACtC,MAAI,CAACA,UAAL,EAAiB;AACb,WAAOD,OAAP;AACH;;AACD,MAAIE,WAAW,GAAGD,UAAU,CAACE,KAAX,CAAiB,GAAjB,CAAlB;;AACA,MAAIN,CAAC,CAACO,QAAF,CAAWF,WAAX,EAAwB,SAAxB,CAAJ,EAAwC;AACpC,WAAOF,OAAP;AACH;;AACDE,EAAAA,WAAW,GAAGA,WAAW,CACpBG,MADS,CACF,UAAUC,MAAV,EAAkB;AAC1B,WAAOA,MAAM,CAACC,OAAP,CAAe,UAAf,MAA+B,CAAtC;AACH,GAHa,EAITC,GAJS,CAIL,UAAUF,MAAV,EAAkB;AACvB,WAAOA,MAAM,CAACG,OAAP,CAAe,UAAf,EAA2B,EAA3B,CAAP;AACH,GANa,CAAd;AAOA,SAAOT,OAAO,CAACK,MAAR,CAAe,UAAUK,MAAV,EAAkB;AACpC,WAAOb,CAAC,CAACO,QAAF,CAAWF,WAAX,EAAwBQ,MAAM,CAACC,MAAP,IAAiBD,MAAM,CAACE,IAAhD,CAAP;AACH,GAFM,CAAP;AAGH;;AACDC,MAAM,CAACC,OAAP,GAAiB,UAAUC,OAAV,EAAmB;AAChC,MAAIf,OAAO,GAAGe,OAAO,CAACL,MAAR,CAAeM,GAAf,CAAmB,SAAnB,CAAd;;AACA,MAAI,CAAChB,OAAL,EAAc;AACV,WAAO,EAAP;AACH,GAFD,MAGK,IAAI,CAACH,CAAC,CAACoB,OAAF,CAAUjB,OAAV,CAAL,EAAyB;AAC1B,QAAI,CAACA,OAAO,CAACW,MAAT,IAAmB,CAACX,OAAO,CAACY,IAAhC,EAAsC;AAClCZ,MAAAA,OAAO,CAACY,IAAR,GAAeG,OAAO,CAACG,QAAvB;AACH;;AACDlB,IAAAA,OAAO,GAAG,CAACA,OAAD,CAAV;AACH;;AACD,SAAOD,WAAW,CAACC,OAAD,EAAUe,OAAO,CAACI,IAAlB,CAAlB;AACH,CAZD","sourcesContent":["\"use strict\";\nconst _ = require(\"lodash\");\nfunction _filterOnly(configs, onlyString) {\n    if (!onlyString) {\n        return configs;\n    }\n    var onlyTargets = onlyString.split(\",\");\n    if (_.includes(onlyTargets, \"hosting\")) {\n        return configs;\n    }\n    onlyTargets = onlyTargets\n        .filter(function (anOnly) {\n        return anOnly.indexOf(\"hosting:\") === 0;\n    })\n        .map(function (anOnly) {\n        return anOnly.replace(\"hosting:\", \"\");\n    });\n    return configs.filter(function (config) {\n        return _.includes(onlyTargets, config.target || config.site);\n    });\n}\nmodule.exports = function (options) {\n    let configs = options.config.get(\"hosting\");\n    if (!configs) {\n        return [];\n    }\n    else if (!_.isArray(configs)) {\n        if (!configs.target && !configs.site) {\n            configs.site = options.instance;\n        }\n        configs = [configs];\n    }\n    return _filterOnly(configs, options.only);\n};\n"]},"metadata":{},"sourceType":"script"}