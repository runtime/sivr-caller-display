{"ast":null,"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : new P(function (resolve) {\n        resolve(result.value);\n      }).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar _ = require(\"lodash\");\n\nvar clc = require(\"cli-color\");\n\nvar fs = require(\"fs\");\n\nvar _require = require(\"../fetchWebSetup\"),\n    fetchWebSetup = _require.fetchWebSetup,\n    getCachedWebSetup = _require.getCachedWebSetup;\n\nvar utils = require(\"../utils\");\n\nvar logger = require(\"../logger\");\n\nvar INIT_TEMPLATE = fs.readFileSync(__dirname + \"/../../templates/hosting/init.js\", \"utf8\");\n\nmodule.exports = function (options) {\n  return __awaiter(this, void 0, void 0, function* () {\n    let config;\n\n    try {\n      config = yield fetchWebSetup(options);\n    } catch (e) {\n      logger.debug(\"fetchWebSetup error: \" + e);\n\n      const statusCode = _.get(e, \"context.response.statusCode\");\n\n      if (statusCode === 403) {\n        utils.logLabeledWarning(\"hosting\", `Authentication error when trying to fetch your current web app configuration, have you run ${clc.bold(\"firebase login\")}?`);\n      }\n    }\n\n    if (!config) {\n      config = getCachedWebSetup(options);\n\n      if (config) {\n        utils.logLabeledWarning(\"hosting\", \"Using web app configuration from cache.\");\n      }\n    }\n\n    if (!config) {\n      config = undefined;\n      utils.logLabeledWarning(\"hosting\", \"Could not fetch web app configuration and there is no cached configuration on this machine. \" + \"Check your internet connection and make sure you are authenticated. \" + \"To continue, you must call firebase.initializeApp({...}) in your code before using Firebase.\");\n    }\n\n    const configJson = JSON.stringify(config, null, 2);\n    return {\n      js: INIT_TEMPLATE.replace(\"/*--CONFIG--*/\", `var firebaseConfig = ${configJson};`),\n      json: configJson\n    };\n  });\n};","map":{"version":3,"sources":["/Users/Erik.Kroha1/Jobs/Verizon/Talk Home/sivr-caller-display/node_modules/firebase-tools/lib/hosting/implicitInit.js"],"names":["__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","_","require","clc","fs","fetchWebSetup","getCachedWebSetup","utils","logger","INIT_TEMPLATE","readFileSync","__dirname","module","exports","options","config","debug","statusCode","get","logLabeledWarning","bold","undefined","configJson","JSON","stringify","js","replace","json"],"mappings":"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","sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar _ = require(\"lodash\");\nvar clc = require(\"cli-color\");\nvar fs = require(\"fs\");\nvar { fetchWebSetup, getCachedWebSetup } = require(\"../fetchWebSetup\");\nvar utils = require(\"../utils\");\nvar logger = require(\"../logger\");\nvar INIT_TEMPLATE = fs.readFileSync(__dirname + \"/../../templates/hosting/init.js\", \"utf8\");\nmodule.exports = function (options) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let config;\n        try {\n            config = yield fetchWebSetup(options);\n        }\n        catch (e) {\n            logger.debug(\"fetchWebSetup error: \" + e);\n            const statusCode = _.get(e, \"context.response.statusCode\");\n            if (statusCode === 403) {\n                utils.logLabeledWarning(\"hosting\", `Authentication error when trying to fetch your current web app configuration, have you run ${clc.bold(\"firebase login\")}?`);\n            }\n        }\n        if (!config) {\n            config = getCachedWebSetup(options);\n            if (config) {\n                utils.logLabeledWarning(\"hosting\", \"Using web app configuration from cache.\");\n            }\n        }\n        if (!config) {\n            config = undefined;\n            utils.logLabeledWarning(\"hosting\", \"Could not fetch web app configuration and there is no cached configuration on this machine. \" +\n                \"Check your internet connection and make sure you are authenticated. \" +\n                \"To continue, you must call firebase.initializeApp({...}) in your code before using Firebase.\");\n        }\n        const configJson = JSON.stringify(config, null, 2);\n        return {\n            js: INIT_TEMPLATE.replace(\"/*--CONFIG--*/\", `var firebaseConfig = ${configJson};`),\n            json: configJson,\n        };\n    });\n};\n"]},"metadata":{},"sourceType":"script"}