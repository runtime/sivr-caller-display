{"ast":null,"code":"\"use strict\";\n\nvar _ = require(\"lodash\");\n\nvar clc = require(\"cli-color\");\n\nvar _require = require(\"../command\"),\n    Command = _require.Command;\n\nvar logger = require(\"../logger\");\n\nvar requireConfig = require(\"../requireConfig\");\n\nvar utils = require(\"../utils\");\n\nfunction _logTargets(type, targets) {\n  logger.info(clc.cyan(\"[ \" + type + \" ]\"));\n\n  _.forEach(targets, function (resources, name) {\n    logger.info(name, \"(\" + (resources || []).join(\",\") + \")\");\n  });\n}\n\nmodule.exports = new Command(\"target [type]\").description(\"display configured deploy targets for the current project\").before(requireConfig).action(function (type, options) {\n  if (!options.project) {\n    return utils.reject(\"No active project, cannot list deploy targets.\");\n  }\n\n  logger.info(\"Resource targets for\", clc.bold(options.project) + \":\");\n  logger.info();\n\n  if (type) {\n    var targets = options.rc.targets(options.project, type);\n\n    _logTargets(type, targets);\n\n    return Promise.resolve(targets);\n  }\n\n  var allTargets = options.rc.get([\"targets\", options.project], {});\n\n  _.forEach(allTargets, function (ts, tp) {\n    _logTargets(tp, ts);\n  });\n\n  return Promise.resolve(allTargets);\n});","map":{"version":3,"sources":["/Users/Erik.Kroha1/Jobs/Verizon/Talk Home/sivr-caller-display/node_modules/firebase-tools/lib/commands/target.js"],"names":["_","require","clc","Command","logger","requireConfig","utils","_logTargets","type","targets","info","cyan","forEach","resources","name","join","module","exports","description","before","action","options","project","reject","bold","rc","Promise","resolve","allTargets","get","ts","tp"],"mappings":"AAAA;;AACA,IAAIA,CAAC,GAAGC,OAAO,CAAC,QAAD,CAAf;;AACA,IAAIC,GAAG,GAAGD,OAAO,CAAC,WAAD,CAAjB;;eACkBA,OAAO,CAAC,YAAD,C;IAAnBE,O,YAAAA,O;;AACN,IAAIC,MAAM,GAAGH,OAAO,CAAC,WAAD,CAApB;;AACA,IAAII,aAAa,GAAGJ,OAAO,CAAC,kBAAD,CAA3B;;AACA,IAAIK,KAAK,GAAGL,OAAO,CAAC,UAAD,CAAnB;;AACA,SAASM,WAAT,CAAqBC,IAArB,EAA2BC,OAA3B,EAAoC;AAChCL,EAAAA,MAAM,CAACM,IAAP,CAAYR,GAAG,CAACS,IAAJ,CAAS,OAAOH,IAAP,GAAc,IAAvB,CAAZ;;AACAR,EAAAA,CAAC,CAACY,OAAF,CAAUH,OAAV,EAAmB,UAAUI,SAAV,EAAqBC,IAArB,EAA2B;AAC1CV,IAAAA,MAAM,CAACM,IAAP,CAAYI,IAAZ,EAAkB,MAAM,CAACD,SAAS,IAAI,EAAd,EAAkBE,IAAlB,CAAuB,GAAvB,CAAN,GAAoC,GAAtD;AACH,GAFD;AAGH;;AACDC,MAAM,CAACC,OAAP,GAAiB,IAAId,OAAJ,CAAY,eAAZ,EACZe,WADY,CACA,2DADA,EAEZC,MAFY,CAELd,aAFK,EAGZe,MAHY,CAGL,UAAUZ,IAAV,EAAgBa,OAAhB,EAAyB;AACjC,MAAI,CAACA,OAAO,CAACC,OAAb,EAAsB;AAClB,WAAOhB,KAAK,CAACiB,MAAN,CAAa,gDAAb,CAAP;AACH;;AACDnB,EAAAA,MAAM,CAACM,IAAP,CAAY,sBAAZ,EAAoCR,GAAG,CAACsB,IAAJ,CAASH,OAAO,CAACC,OAAjB,IAA4B,GAAhE;AACAlB,EAAAA,MAAM,CAACM,IAAP;;AACA,MAAIF,IAAJ,EAAU;AACN,QAAIC,OAAO,GAAGY,OAAO,CAACI,EAAR,CAAWhB,OAAX,CAAmBY,OAAO,CAACC,OAA3B,EAAoCd,IAApC,CAAd;;AACAD,IAAAA,WAAW,CAACC,IAAD,EAAOC,OAAP,CAAX;;AACA,WAAOiB,OAAO,CAACC,OAAR,CAAgBlB,OAAhB,CAAP;AACH;;AACD,MAAImB,UAAU,GAAGP,OAAO,CAACI,EAAR,CAAWI,GAAX,CAAe,CAAC,SAAD,EAAYR,OAAO,CAACC,OAApB,CAAf,EAA6C,EAA7C,CAAjB;;AACAtB,EAAAA,CAAC,CAACY,OAAF,CAAUgB,UAAV,EAAsB,UAAUE,EAAV,EAAcC,EAAd,EAAkB;AACpCxB,IAAAA,WAAW,CAACwB,EAAD,EAAKD,EAAL,CAAX;AACH,GAFD;;AAGA,SAAOJ,OAAO,CAACC,OAAR,CAAgBC,UAAhB,CAAP;AACH,CAnBgB,CAAjB","sourcesContent":["\"use strict\";\nvar _ = require(\"lodash\");\nvar clc = require(\"cli-color\");\nvar { Command } = require(\"../command\");\nvar logger = require(\"../logger\");\nvar requireConfig = require(\"../requireConfig\");\nvar utils = require(\"../utils\");\nfunction _logTargets(type, targets) {\n    logger.info(clc.cyan(\"[ \" + type + \" ]\"));\n    _.forEach(targets, function (resources, name) {\n        logger.info(name, \"(\" + (resources || []).join(\",\") + \")\");\n    });\n}\nmodule.exports = new Command(\"target [type]\")\n    .description(\"display configured deploy targets for the current project\")\n    .before(requireConfig)\n    .action(function (type, options) {\n    if (!options.project) {\n        return utils.reject(\"No active project, cannot list deploy targets.\");\n    }\n    logger.info(\"Resource targets for\", clc.bold(options.project) + \":\");\n    logger.info();\n    if (type) {\n        var targets = options.rc.targets(options.project, type);\n        _logTargets(type, targets);\n        return Promise.resolve(targets);\n    }\n    var allTargets = options.rc.get([\"targets\", options.project], {});\n    _.forEach(allTargets, function (ts, tp) {\n        _logTargets(tp, ts);\n    });\n    return Promise.resolve(allTargets);\n});\n"]},"metadata":{},"sourceType":"script"}