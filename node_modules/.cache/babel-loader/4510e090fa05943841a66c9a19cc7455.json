{"ast":null,"code":"\"use strict\";\n\nvar fs = require(\"fs\");\n\nvar spawn = require(\"cross-spawn\");\n\nvar _require = require(\"./error\"),\n    FirebaseError = _require.FirebaseError;\n\nvar clc = require(\"cli-color\");\n\nmodule.exports = function (filename) {\n  var ruleSrc = fs.readFileSync(filename);\n  var result = spawn.sync(\"firebase-bolt\", {\n    input: ruleSrc,\n    timeout: 10000,\n    encoding: \"utf-8\"\n  });\n\n  if (result.error && result.error.code === \"ENOENT\") {\n    throw new FirebaseError(\"Bolt not installed, run \" + clc.bold(\"npm install -g firebase-bolt\"), {\n      exit: 1\n    });\n  } else if (result.error) {\n    throw new FirebaseError(\"Unexpected error parsing Bolt rules file\", {\n      exit: 2\n    });\n  } else if (result.status > 0) {\n    throw new FirebaseError(result.stderr, {\n      exit: 1\n    });\n  }\n\n  return result.stdout;\n};","map":{"version":3,"sources":["/Users/Erik.Kroha1/Jobs/Verizon/Talk Home/sivr-caller-display/node_modules/firebase-tools/lib/parseBoltRules.js"],"names":["fs","require","spawn","FirebaseError","clc","module","exports","filename","ruleSrc","readFileSync","result","sync","input","timeout","encoding","error","code","bold","exit","status","stderr","stdout"],"mappings":"AAAA;;AACA,IAAIA,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAhB;;AACA,IAAIC,KAAK,GAAGD,OAAO,CAAC,aAAD,CAAnB;;eACwBA,OAAO,CAAC,SAAD,C;IAAzBE,a,YAAAA,a;;AACN,IAAIC,GAAG,GAAGH,OAAO,CAAC,WAAD,CAAjB;;AACAI,MAAM,CAACC,OAAP,GAAiB,UAAUC,QAAV,EAAoB;AACjC,MAAIC,OAAO,GAAGR,EAAE,CAACS,YAAH,CAAgBF,QAAhB,CAAd;AACA,MAAIG,MAAM,GAAGR,KAAK,CAACS,IAAN,CAAW,eAAX,EAA4B;AACrCC,IAAAA,KAAK,EAAEJ,OAD8B;AAErCK,IAAAA,OAAO,EAAE,KAF4B;AAGrCC,IAAAA,QAAQ,EAAE;AAH2B,GAA5B,CAAb;;AAKA,MAAIJ,MAAM,CAACK,KAAP,IAAgBL,MAAM,CAACK,KAAP,CAAaC,IAAb,KAAsB,QAA1C,EAAoD;AAChD,UAAM,IAAIb,aAAJ,CAAkB,6BAA6BC,GAAG,CAACa,IAAJ,CAAS,8BAAT,CAA/C,EAAyF;AAC3FC,MAAAA,IAAI,EAAE;AADqF,KAAzF,CAAN;AAGH,GAJD,MAKK,IAAIR,MAAM,CAACK,KAAX,EAAkB;AACnB,UAAM,IAAIZ,aAAJ,CAAkB,0CAAlB,EAA8D;AAChEe,MAAAA,IAAI,EAAE;AAD0D,KAA9D,CAAN;AAGH,GAJI,MAKA,IAAIR,MAAM,CAACS,MAAP,GAAgB,CAApB,EAAuB;AACxB,UAAM,IAAIhB,aAAJ,CAAkBO,MAAM,CAACU,MAAzB,EAAiC;AAAEF,MAAAA,IAAI,EAAE;AAAR,KAAjC,CAAN;AACH;;AACD,SAAOR,MAAM,CAACW,MAAd;AACH,CArBD","sourcesContent":["\"use strict\";\nvar fs = require(\"fs\");\nvar spawn = require(\"cross-spawn\");\nvar { FirebaseError } = require(\"./error\");\nvar clc = require(\"cli-color\");\nmodule.exports = function (filename) {\n    var ruleSrc = fs.readFileSync(filename);\n    var result = spawn.sync(\"firebase-bolt\", {\n        input: ruleSrc,\n        timeout: 10000,\n        encoding: \"utf-8\",\n    });\n    if (result.error && result.error.code === \"ENOENT\") {\n        throw new FirebaseError(\"Bolt not installed, run \" + clc.bold(\"npm install -g firebase-bolt\"), {\n            exit: 1,\n        });\n    }\n    else if (result.error) {\n        throw new FirebaseError(\"Unexpected error parsing Bolt rules file\", {\n            exit: 2,\n        });\n    }\n    else if (result.status > 0) {\n        throw new FirebaseError(result.stderr, { exit: 1 });\n    }\n    return result.stdout;\n};\n"]},"metadata":{},"sourceType":"script"}