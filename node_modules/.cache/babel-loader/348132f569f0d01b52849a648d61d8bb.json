{"ast":null,"code":"var fs = require('graceful-fs');\n\nvar path = require('path');\n\nvar ncp = require('./ncp');\n\nvar mkdir = require('../mkdirs');\n\nfunction copy(src, dest, options, callback) {\n  if (typeof options === 'function' && !callback) {\n    callback = options;\n    options = {};\n  } else if (typeof options === 'function' || options instanceof RegExp) {\n    options = {\n      filter: options\n    };\n  }\n\n  callback = callback || function () {};\n\n  fs.lstat(src, function (err, stats) {\n    if (err) return callback(err);\n    var dir = null;\n\n    if (stats.isDirectory()) {\n      var parts = dest.split(path.sep);\n      parts.pop();\n      dir = parts.join(path.sep);\n    } else {\n      dir = path.dirname(dest);\n    }\n\n    fs.exists(dir, function (dirExists) {\n      if (dirExists) return ncp(src, dest, options, callback);\n      mkdir.mkdirs(dir, function (err) {\n        if (err) return callback(err);\n        ncp(src, dest, options, callback);\n      });\n    });\n  });\n}\n\nmodule.exports = copy;","map":{"version":3,"sources":["/Users/Erik.Kroha1/Jobs/Verizon/Talk Home/sivr-caller-display/node_modules/firebase-tools/node_modules/fs-extra/lib/copy/copy.js"],"names":["fs","require","path","ncp","mkdir","copy","src","dest","options","callback","RegExp","filter","lstat","err","stats","dir","isDirectory","parts","split","sep","pop","join","dirname","exists","dirExists","mkdirs","module","exports"],"mappings":"AAAA,IAAIA,EAAE,GAAGC,OAAO,CAAC,aAAD,CAAhB;;AACA,IAAIC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAAlB;;AACA,IAAIE,GAAG,GAAGF,OAAO,CAAC,OAAD,CAAjB;;AACA,IAAIG,KAAK,GAAGH,OAAO,CAAC,WAAD,CAAnB;;AAEA,SAASI,IAAT,CAAeC,GAAf,EAAoBC,IAApB,EAA0BC,OAA1B,EAAmCC,QAAnC,EAA6C;AAC3C,MAAI,OAAOD,OAAP,KAAmB,UAAnB,IAAiC,CAACC,QAAtC,EAAgD;AAC9CA,IAAAA,QAAQ,GAAGD,OAAX;AACAA,IAAAA,OAAO,GAAG,EAAV;AACD,GAHD,MAGO,IAAI,OAAOA,OAAP,KAAmB,UAAnB,IAAiCA,OAAO,YAAYE,MAAxD,EAAgE;AACrEF,IAAAA,OAAO,GAAG;AAACG,MAAAA,MAAM,EAAEH;AAAT,KAAV;AACD;;AACDC,EAAAA,QAAQ,GAAGA,QAAQ,IAAI,YAAY,CAAE,CAArC;;AAEAT,EAAAA,EAAE,CAACY,KAAH,CAASN,GAAT,EAAc,UAAUO,GAAV,EAAeC,KAAf,EAAsB;AAClC,QAAID,GAAJ,EAAS,OAAOJ,QAAQ,CAACI,GAAD,CAAf;AAET,QAAIE,GAAG,GAAG,IAAV;;AACA,QAAID,KAAK,CAACE,WAAN,EAAJ,EAAyB;AACvB,UAAIC,KAAK,GAAGV,IAAI,CAACW,KAAL,CAAWhB,IAAI,CAACiB,GAAhB,CAAZ;AACAF,MAAAA,KAAK,CAACG,GAAN;AACAL,MAAAA,GAAG,GAAGE,KAAK,CAACI,IAAN,CAAWnB,IAAI,CAACiB,GAAhB,CAAN;AACD,KAJD,MAIO;AACLJ,MAAAA,GAAG,GAAGb,IAAI,CAACoB,OAAL,CAAaf,IAAb,CAAN;AACD;;AAEDP,IAAAA,EAAE,CAACuB,MAAH,CAAUR,GAAV,EAAe,UAAUS,SAAV,EAAqB;AAClC,UAAIA,SAAJ,EAAe,OAAOrB,GAAG,CAACG,GAAD,EAAMC,IAAN,EAAYC,OAAZ,EAAqBC,QAArB,CAAV;AACfL,MAAAA,KAAK,CAACqB,MAAN,CAAaV,GAAb,EAAkB,UAAUF,GAAV,EAAe;AAC/B,YAAIA,GAAJ,EAAS,OAAOJ,QAAQ,CAACI,GAAD,CAAf;AACTV,QAAAA,GAAG,CAACG,GAAD,EAAMC,IAAN,EAAYC,OAAZ,EAAqBC,QAArB,CAAH;AACD,OAHD;AAID,KAND;AAOD,GAnBD;AAoBD;;AAEDiB,MAAM,CAACC,OAAP,GAAiBtB,IAAjB","sourcesContent":["var fs = require('graceful-fs')\nvar path = require('path')\nvar ncp = require('./ncp')\nvar mkdir = require('../mkdirs')\n\nfunction copy (src, dest, options, callback) {\n  if (typeof options === 'function' && !callback) {\n    callback = options\n    options = {}\n  } else if (typeof options === 'function' || options instanceof RegExp) {\n    options = {filter: options}\n  }\n  callback = callback || function () {}\n\n  fs.lstat(src, function (err, stats) {\n    if (err) return callback(err)\n\n    var dir = null\n    if (stats.isDirectory()) {\n      var parts = dest.split(path.sep)\n      parts.pop()\n      dir = parts.join(path.sep)\n    } else {\n      dir = path.dirname(dest)\n    }\n\n    fs.exists(dir, function (dirExists) {\n      if (dirExists) return ncp(src, dest, options, callback)\n      mkdir.mkdirs(dir, function (err) {\n        if (err) return callback(err)\n        ncp(src, dest, options, callback)\n      })\n    })\n  })\n}\n\nmodule.exports = copy\n"]},"metadata":{},"sourceType":"script"}