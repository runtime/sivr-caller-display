{"ast":null,"code":"\"use strict\";\n\nvar _require = require(\"../command\"),\n    Command = _require.Command;\n\nvar api = require(\"../api\");\n\nvar requireAuth = require(\"../requireAuth\");\n\nvar clc = require(\"cli-color\");\n\nvar Table = require(\"cli-table\");\n\nvar _ = require(\"lodash\");\n\nvar logger = require(\"../logger\");\n\nmodule.exports = new Command(\"list\").description(\"[DEPRECATED: use `projects:list`] list the Firebase projects you have access to\").before(requireAuth).action(function (options) {\n  logger.warn(\"This command is deprecated. Instead, use 'firebase projects:list' command to list your projects.\");\n  return api.getProjects().then(function (projects) {\n    var tableHead = [\"Name\", \"Project ID / Instance\", \"Permissions\"];\n    var table = new Table({\n      head: tableHead,\n      style: {\n        head: [\"yellow\"]\n      }\n    });\n    var out = [];\n\n    _.forEach(projects, function (data, projectId) {\n      var project = {\n        name: data.name,\n        id: projectId,\n        permission: data.permission,\n        instance: data.instances.database[0]\n      };\n      var displayId = clc.bold(projectId);\n\n      if (data.instances.database[0] !== projectId) {\n        displayId += \"\\n\" + data.instances.database[0] + \" (instance)\";\n      }\n\n      var displayPermission;\n\n      switch (data.permission) {\n        case \"own\":\n          displayPermission = clc.cyan.bold(\"Owner\");\n          break;\n\n        case \"edit\":\n          displayPermission = clc.bold(\"Editor\");\n          break;\n\n        case \"view\":\n        default:\n          displayPermission = \"Viewer\";\n      }\n\n      var displayName = data.name;\n\n      if (options.project === projectId) {\n        displayName = clc.cyan.bold(displayName + \" (current)\");\n      }\n\n      out.push(project);\n      var row = [displayName, displayId, displayPermission];\n      table.push(row);\n    });\n\n    if (_.size(projects) === 0) {\n      logger.info(clc.bold(\"No projects found.\"));\n      logger.info();\n      logger.info(clc.bold.cyan(\"Projects missing?\") + \" This version of the Firebase CLI is only compatible with\\n\" + \"projects that have been upgraded to the new Firebase Console. To access your\\n\" + \"firebase.com apps, use a previous version: \" + clc.bold(\"npm install -g firebase-tools@^2.1\"));\n    } else {\n      logger.info(table.toString());\n    }\n\n    return out;\n  });\n});","map":{"version":3,"sources":["/Users/Erik.Kroha1/Jobs/Verizon/Talk Home/sivr-caller-display/node_modules/firebase-tools/lib/commands/list.js"],"names":["require","Command","api","requireAuth","clc","Table","_","logger","module","exports","description","before","action","options","warn","getProjects","then","projects","tableHead","table","head","style","out","forEach","data","projectId","project","name","id","permission","instance","instances","database","displayId","bold","displayPermission","cyan","displayName","push","row","size","info","toString"],"mappings":"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","sourcesContent":["\"use strict\";\nvar { Command } = require(\"../command\");\nvar api = require(\"../api\");\nvar requireAuth = require(\"../requireAuth\");\nvar clc = require(\"cli-color\");\nvar Table = require(\"cli-table\");\nvar _ = require(\"lodash\");\nvar logger = require(\"../logger\");\nmodule.exports = new Command(\"list\")\n    .description(\"[DEPRECATED: use `projects:list`] list the Firebase projects you have access to\")\n    .before(requireAuth)\n    .action(function (options) {\n    logger.warn(\"This command is deprecated. Instead, use 'firebase projects:list' command to list your projects.\");\n    return api.getProjects().then(function (projects) {\n        var tableHead = [\"Name\", \"Project ID / Instance\", \"Permissions\"];\n        var table = new Table({\n            head: tableHead,\n            style: { head: [\"yellow\"] },\n        });\n        var out = [];\n        _.forEach(projects, function (data, projectId) {\n            var project = {\n                name: data.name,\n                id: projectId,\n                permission: data.permission,\n                instance: data.instances.database[0],\n            };\n            var displayId = clc.bold(projectId);\n            if (data.instances.database[0] !== projectId) {\n                displayId += \"\\n\" + data.instances.database[0] + \" (instance)\";\n            }\n            var displayPermission;\n            switch (data.permission) {\n                case \"own\":\n                    displayPermission = clc.cyan.bold(\"Owner\");\n                    break;\n                case \"edit\":\n                    displayPermission = clc.bold(\"Editor\");\n                    break;\n                case \"view\":\n                default:\n                    displayPermission = \"Viewer\";\n            }\n            var displayName = data.name;\n            if (options.project === projectId) {\n                displayName = clc.cyan.bold(displayName + \" (current)\");\n            }\n            out.push(project);\n            var row = [displayName, displayId, displayPermission];\n            table.push(row);\n        });\n        if (_.size(projects) === 0) {\n            logger.info(clc.bold(\"No projects found.\"));\n            logger.info();\n            logger.info(clc.bold.cyan(\"Projects missing?\") +\n                \" This version of the Firebase CLI is only compatible with\\n\" +\n                \"projects that have been upgraded to the new Firebase Console. To access your\\n\" +\n                \"firebase.com apps, use a previous version: \" +\n                clc.bold(\"npm install -g firebase-tools@^2.1\"));\n        }\n        else {\n            logger.info(table.toString());\n        }\n        return out;\n    });\n});\n"]},"metadata":{},"sourceType":"script"}